<div class="row-fluid">
    <h3>{{ _('Nozzle Switch')}}</h3>
</div>

<div id="replaceNozzleStep1">
    <div class="row-fluid">
        <div class="span1 text-center"></div>
        <div class="span4 text-center">
            <span>{{ _('1st Series') }}</span>
            <img src="{{ url_for('static', filename='img/maintenance/nozzles_old.png') }}" /><br />
            <span>0.4 mm &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.6 mm</span>
        </div>
        <div class="span2 text-center"></div>
        <div class="span4 text-center">
            <span>{{ _('2nd Series') }}</span>
            <img src="{{ url_for('static', filename='img/maintenance/nozzles_new.png') }}" /><br />
            <span>0.4 mm &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0.6 mm</span>
        </div>
        <div class="span1 text-center"></div>
    </div>
    <br />

    <div class="row-fluid">
        <div class="span12 text-center">
            <h4>{{ _('First, verify if your nozzle belongs to the 1st or 2nd series.') }}</h4>
            <br />
        </div>
        <div class="span1"></div>
        <div class="span4">
            <p>{{ _('To replace this type of nozzle, you\'ll need:') }}</p>
            <span> - {{ _('Additional nozzle;') }}</span><br />
            <span> - {{ _('6mm wrench;') }}</span><br />
            <span> - {{ _('A surface that can handle the nozzle\'s heat, once you take it off.') }}</span><br />
        </div>
        <div class="span2"></div>
        <div class="span4">
            <p>{{ _('To replace this type of nozzle, you\'ll need:') }}</p>
            <span> - {{ _('Additional nozzle;') }}</span><br />
            <span> - {{ _('10mm socket wrench;') }}</span><br />
            <span> - {{ _('Ratchet for the socket wrench;') }}</span><br />
            <span> - {{ _('A surface that can handle the nozzle\'s heat, once you take it off.') }}</span><br />
        </div>
        <div class="span1"></div>
    </div>
    <div class="row-fluid">
        <div class="row-fluid">
            <strong>{{ _('NOTICE') }}: </strong>
            {{ _('the removed nozzle will be at around 200ÂºC') }}
        </div>
        <br /><br />
        <div class="row-fluid">
            <span class="span12"><i class="icon-exclamation-sign"></i>
                <strong>{{ _('WARNING: BE CAREFUL NOT TO TOUCH THE NOZZLE WITH YOUR SKIN DURING THIS PROCESS.') }}</strong>
            </span>
        </div>
    </div>
    <button id="next-step-replace-nozzle2" title="{{ _('Next')}}" class="btn btn-primary pull-right yellow"
        data-bind="click: nextStepReplaceNozzle1, enable: printerState.isOperational() && !commandLock()
        && printerState.isReady() && !printerState.isPrinting() && loginState.isUser()">
            <i class="icon-arrow-right"></i> {{ _('Next')}}
    </button>
</div>

<div id="replaceNozzleStep2" class="hidden">
    <div class="row-fluid">
        <div class="span4"></div>
        <div class="span4 text-center">
            <img src="{{ url_for('static', filename='img/maintenance/bico_extrusao.png') }}" />
        </div>
        <div class="span4"></div>
    </div>
    <br />
    <div id="progress-bar-replace-nozzle" class="row-fluid hidden">
        <div class="row-fluid">
            <div class="span12 text-center">
                <strong> {{ _('Heating...') }}</strong>
            </div>
        </div>
        <div id="temperature-progress-replace-nozzle" class="progress" style="width: 100%;">
            <div class="bar" style="width: 0%"></div>
        </div>
        <br /><br />
        <div class="row-fluid">
            <p>{{ _('The extruder is currently heating, please wait.') }}</p>
            <p>{{ _('When the extruder has reached the ideal temperature, the progress bar will be full.' ) }}
            </p>
        </div>
    </div>
    <br /><br />
    <div class="row-fluid text-center">
        <span class="span12"><i class="icon-exclamation-sign"></i>
            <strong>{{ _('WARNING: BE CAREFUL NOT TO TOUCH THE NOZZLE WITH YOUR SKIN DURING THIS PROCESS.') }}</strong>
        </span>
    </div>
    <br />
    <button id="replace-nozzle-heating-done" title="{{ _('Next')}}" class="btn btn-primary pull-right yellow hidden"
        data-bind="click: nextStepReplaceNozzle2, enable: printerState.isOperational() && !commandLock()
        && printerState.isReady() && !printerState.isPrinting() && loginState.isUser()">
            <i class="icon-arrow-right"></i> {{ _('Next')}}
    </button>
</div>

<div id="replaceNozzleStep3" class="hidden">
    <div class="row-fluid">
        <div class="span2"></div>
        <div class="span4 text-center unload-gifs">
            <img src="{{ url_for('static', filename='img/maintenance/unload_filament_external.gif') }}" />
        </div>
        <div class="span4 text-center unload-gifs">
            <img src="{{ url_for('static', filename='img/maintenance/unload_filament_internal.gif') }}" />
        </div>
        <div class="span2"></div>
    </div>
    <br />
    <div class="row-fluid text-right">
        <button id="unload-ext-mtn" title="Unload" class="btn btn-primary yellow"
            data-bind="click: unloadFilamentReplaceNozzle, enable: printerState.isOperational()
            && printerState.isReady() && !commandLock()
            && !printerState.isPrinting() && loginState.isUser()">
            <i class="icon-arrow-down"></i> {{ _('Unload')}}
        </button>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <strong>{{ _('Make sure the filament is correctly unloaded before proceeding.') }} </strong>
        </div>
    </div>
    <br />
    <div class="row-fluid">
        <span>{{ _('To unload the filament, push the Unload button and pull the filament steadily.') }}</span>
    </div>
    <br /><br />

    <button id="next-step-replace-nozzle3" title="{{ _('Next')}}" class="btn btn-primary pull-right yellow"
        data-bind="click: nextStepReplaceNozzle3, enable: printerState.isOperational() && !commandLock()
        && printerState.isReady() && !printerState.isPrinting() && loginState.isUser()">
            <i class="icon-arrow-right"></i> {{ _('Next')}}
    </button>
</div>

<div id="replaceNozzleStep4" class="hidden">
    <div class="row-fluid">
        <div class="span3 text-center"></div>
        <div class="span6 text-center">
            <img src="{{ url_for('static', filename='img/maintenance/switch_nozzle_sized.png') }}" />
        </div>
        <div class="span3 text-center"></div>
    </div>
    <br />
    <div class="row-fluid">
        <div class="span12 text-center">
            <strong>{{ _('Unscrew Nozzle') }} </strong>
        </div>
    </div>
    <div class="row-fluid">
        <p>
            <span><strong>{{ _('NOTICE') }}</strong>: {{ _('Remove the printing platform to better access the extruder nozzle.') }}</span>
        </p>
    </div>
    <br /><br />
    <div class="row-fluid text-center">
        <span class="span12"><i class="icon-exclamation-sign"></i>
            <strong>{{ _('WARNING: BE CAREFUL NOT TO TOUCH THE NOZZLE WITH YOUR SKIN DURING THIS PROCESS.') }}</strong>
        </span>
    </div>

    <button id="next-step-replace-nozzle4" title="{{ _('Next')}}" class="btn btn-primary pull-right yellow"
        data-bind="click: nextStepReplaceNozzle4, enable: printerState.isOperational() && !commandLock()
        && printerState.isReady() && !printerState.isPrinting() && loginState.isUser()">
            <i class="icon-arrow-right"></i> {{ _('Next')}}
    </button>
    <br />
</div>

<div id="replaceNozzleStep5" class="hidden">
    <div class="row-fluid">
        <div class="span3 text-center"></div>
        <div class="span6 text-center">
            <img src="{{ url_for('static', filename='img/maintenance/switch_nozzle2_sized.png') }}" />
        </div>
        <div class="span3 text-center"></div>
    </div>
    <br />
    <div class="row-fluid">
        <div class="span12 text-center">
            <strong>{{ _('Screw the new Nozzle') }} </strong>
        </div>
    </div>
    <div class="row-fluid">
        <p>
            <span><strong>{{ _('NOTICE') }}</strong>:
            {{ _('Screw the nozzle until you feel resistance. The tightness should be sufficient in order to prevent plastic leaks, though not excessive as to not damage the thread. Ideal tightness: 3.5 (N.m).') }}</span>
        </p>
    </div>
    <br /><br />
    <div class="row-fluid text-center">
        <span class="span12"><i class="icon-exclamation-sign"></i>
            <strong>{{ _('WARNING: BE CAREFUL NOT TO TOUCH THE NOZZLE WITH YOUR SKIN DURING THIS PROCESS.') }}</strong>
        </span>
    </div>

    <button id="next-step-replace-nozzle5" title="{{ _('Next')}}" class="btn btn-primary pull-right yellow"
        data-bind="click: nextStepReplaceNozzle5, enable: printerState.isOperational() && !commandLock()
        && printerState.isReady() && !printerState.isPrinting() && loginState.isUser()">
            <i class="icon-arrow-right"></i> {{ _('Next')}}
    </button>
    <br />
</div>

<div id="replaceNozzleStep6" class="hidden">
    <div class="row-fluid">
        <div class="span3 text-center"></div>
        <div class="span6 text-center">
            <img src="{{ url_for('static', filename='img/maintenance/nozzles.png') }}" />
        </div>
        <div class="span3 text-center"></div>
    </div>
    <div class="row-fluid">
        <div class="span12">
            <strong>{{ _('Select the nozzle size that you just installed:')}}</strong>
            <br />

            <form class="form-horizontal">
                <div class="control-group">
                    <div class="row-fluid">
                        <select data-bind="options: nozzleSizes, optionsText: 'name', optionsValue: 'key', value: selectedNozzle, optionsCaption: '{{ _('Select nozzle size...') }}'"></select>

                        <button id="submit-nozzle" title="Save Nozzle" class="btn btn-primary pull-right yellow"
                        data-bind="click: saveNozzle, enable: printerState.isOperational() && !commandLock()
                        && printerState.isReady() && !printerState.isPrinting() && loginState.isUser() && selectedNozzle">
                            <i class="icon-arrow-right"></i> {{ _('Next')}}
                        </button>
                    </div>
                    <p>{{ _('NOTICE: 0.6 mm nozzles are marked around their perimeter, as you can observe in the above image.') }}
                </p>
                </div>

                <div class="alert alert-danger text-center" data-bind="visible: saveNozzleResponseError">
                     <span><i class="icon-exclamation-sign"></i> {{ _('An error occurred while saving. Please make sure a nozzle size is selected and try again.')}}</span>
                </div>
            </form>
        </div>
    </div>
</div>

<div id="replaceNozzleStep7" class="hidden">

    <div class="row-fluid">
        <div class="span12">
            <span>{{ _('Proceed to insert filament wizard') }}?</span>
        </div>
    </div>
    <br />
    <div class="row-fluid">
        <div class="span4"></div>
        <div class="span2 text-center">
            <button id="finish-extruder-switch" title="{{ _('No')}}" class="btn btn-primary span12"
                data-bind="click: cancelOperations, enable: printerState.isOperational() && !commandLock()
                && printerState.isReady() && !printerState.isPrinting() && loginState.isUser()">
                    <i class="icon-remove-circle"></i> {{ _('No')}}
            </button>
        </div>
        <div class="span2 text-center">
            <button id="show-change-filament" title="{{ _('Yes')}}" class="btn btn-primary span12 yellow"
                data-bind="click: proceedToChangeFilament, enable: printerState.isOperational() && !commandLock()
                && printerState.isReady() && !printerState.isPrinting() && loginState.isUser()">
                    <i class="icon-ok"></i> {{ _('Yes')}}
            </button>
        </div>
        <div class="span4"></div>
    </div>
</div>
